(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAAsSAAALEgHS3X78AAAAG3RFWHRTb2Z0d2FyZQBDZWxzeXMgU3R1ZGlvIFRvb2zBp+F8AAAB5UlEQVR42u3Sv0pCARjG4U/otESEQlAN4SI4Skt0EV1CQzfRIu6NXUygILbp5tAQLYmbLsHpz5CeIruF2vrgea/gx8tTG86uN5FgW4sqvo62M6RGsajiM0lrDQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAfwJgfHeVAsDqfTeeP/ZTnLpTRmy+ixwA7vuXKQA8vZ3EdNlKcWqnWMfr3iEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AcCod54CwGP7IuqNRopTy/IlmvMyB4DJzVkKAA/H3TgoUqTGsoo4vR0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADA7/cD2CN3crNQcu0AAAAASUVORK5CYII="},34:function(e,t,a){e.exports=a(75)},40:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){},54:function(e,t,a){},56:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},64:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),A=a.n(n),o=a(21),r=a.n(o),i=(a(40),a(7)),l=a(8),c=a(10),s=a(9),u=a(11),m=a(14),h=a(13),p=(a(42),a(44),a(30)),d=a(12),f=(a(54),a(56),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return A.a.createElement("div",{id:"about",className:"overlay"},A.a.createElement("div",{className:"ui"},A.a.createElement(d.a,{className:"link close",to:"/"},"\u2715")),A.a.createElement("div",{className:"content"},A.a.createElement("h2",{id:"about-what-is-this"},"What is this?"),A.a.createElement("p",null,"Just an experiment using Twitter data."),A.a.createElement("p",null,"It shows more or less which language is used the most on Twitter from each geographical location."),A.a.createElement("h2",{id:"about-how"},"How?"),A.a.createElement("p",null,"By collecting tweets that have geolocation data, detecting their language and then counting for each location how many times each language had appeared. Then, performing some geometrical operations to expand the points into areas \u2014basically."),A.a.createElement("h2",{id:"about-why"},"Why?"),A.a.createElement("p",null,"I like maps, I guess \u2014and especially those which go beyond the typical country boundaries and show a bit more of the human aspects below their surface."),A.a.createElement("h2",{id:"how-accurate-is-this"},"How accurate is this?"),A.a.createElement("p",null,"Don't expect too much, for several reasons:"),A.a.createElement("ul",null,A.a.createElement("li",null,"Tweet location data seems to be very unprecise in some regions \u2014for example, in the Balkans, or countries in and around the Sahara\u2014, which provokes some alterations in the region shapes."),A.a.createElement("li",null,"Twitter is blocked in some countries, which affects the map e.g. in China, Cuba, and North Korea. This causes other languages to tend to win over the local ones in this map."),A.a.createElement("li",null,"Keep in mind that this data comes from Twitter, which introduces some biases. For example, the English language is so predominant in Twitter that I decided to compensate it somewhat artificially by manually limiting its boundaries (see ",A.a.createElement(p.HashLink,{to:"/about#about-layers"},"below"),")."),A.a.createElement("li",null,"This map currently accounts for 131 different languages, as detected by the tools I used. This might seem like a good number, but it's still only a small fraction of the language diversity of the real world."),A.a.createElement("li",null,"Assigning boundaries to languages is always a tricky thing to do. Keep in mind that reality is usually richer and more complex, languages often overlap, and assigning only one language to a region is often a subjective decision with political connotations. To put it simply, here I basically came up with a simple algorithm which gives me a lazy answer (even though it took quite some work!).")),A.a.createElement("p",null,"At the same time, though, you might find interesting regions to look at, especially multilingual ones: Belgium; the Catalan-speaking regions; the East and South of Africa; the Gulf of Guinea; India; Quebec; Wales..."),A.a.createElement("h2",{id:"about-layers"},'Why are there two layers named "Raw" and "Edited"?'),A.a.createElement("p",null,'In the "edited" map I have applied (rough) manual boundaries to certain languages, to help produce a "cleaner" map. In the "raw" map I only applied this technique to the English language, which would otherwise invade a lot of the map and make a lot of the diversity invisible.'),A.a.createElement("p",null,"Both layers might get improved iterations as more data is collected over time."),A.a.createElement("h2",{id:"about-how-much-data"},"How much data has been used?"),A.a.createElement("p",null,"At the moment more than 55 million tweets have been used to generate the map, which account for more than 381,000 different locations."),A.a.createElement("p",null,"To collect all this data I have had a script running continuously for about five weeks, which continues to run."),A.a.createElement("h2",{id:"about-dig-deeper"},"Can I dig deeper?"),A.a.createElement("p",null,"Sure, ",A.a.createElement("a",{href:"https://github.com/jperals/colors-of-twitter"},"here")," you can find all my scripts so you can play yourself."),A.a.createElement("h2",{id:"about=acknowledgements"},"Acknowledgments"),A.a.createElement("p",null,"This project holds obvious resemblance to Eric Fischer's ",A.a.createElement("a",{href:"https://flowingdata.com/2011/10/27/language-communities-of-twitter/"},A.a.createElement("em",null,"Language Communities of Twitter")),", from which it draws a big deal of the idea."),A.a.createElement("p",null,"Also, this was possible thanks to a bunch of free software projects like:"),A.a.createElement("ul",null,A.a.createElement("li",null,"Raymond Hills' ",A.a.createElement("a",{href:"http://www.raymondhill.net/voronoi/rhill-voronoi.html"},"Voronoi algorithm library")),A.a.createElement("li",null,"The ",A.a.createElement("a",{href:"https://www.npmjs.com/package/cld"},"Compact Language Detector")),A.a.createElement("li",null,A.a.createElement("a",{href:"https://www.mongodb.com"},"MongoDB")),A.a.createElement("li",null,A.a.createElement("a",{href:"http://turfjs.org/"},"Turf.js")),A.a.createElement("li",null,A.a.createElement("a",{href:"https://nodejs.org"},"Node.js")),A.a.createElement("li",null,"And ",A.a.createElement("a",{href:"https://github.com/jperals/colors-of-twitter/blob/master/package.json#L29"},"many others...")))),A.a.createElement("div",{className:"attribution"},A.a.createElement("span",{className:"license"},"\xa9 ",A.a.createElement("a",{href:"https://creativecommons.org/licenses/by-sa/2.0/"},"CC-BY-SA")),A.a.createElement("span",null," "),A.a.createElement("a",{href:"https://perals.io"},"Joan Perals")),A.a.createElement("div",{className:"date-line"},A.a.createElement("span",{className:"date-text"},"Last updated: "),A.a.createElement("span",{className:"date"},"February 12th, 2019")))}}]),t}(n.Component)),g=(a(58),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return A.a.createElement("div",{className:"loader"},A.a.createElement("svg",{className:"spinner",viewBox:"25 25 50 50"},A.a.createElement("circle",{className:"path",cx:"50",cy:"50",r:"20",fill:"none",strokeWidth:"4",strokeMiterlimit:"10"})))}}]),t}(n.Component)),b=(a(60),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return A.a.createElement("div",{className:"loading-screen"},A.a.createElement(g,null))}}]),t}(n.Component)),w=a(33),E=a(15),y=a.n(E),v=(a(62),y.a.control.attribution({prefix:!1}).addAttribution('&copy; <a href="https://perals.io">Joan Perals</a> 2019 | Using <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> | Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a> | Background map imagery \xa9 <a href="https://www.mapbox.com/">Mapbox</a>')),j=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;Promise.all([fetch("https://gist.githubusercontent.com/jperals/04a7199436bf5d54ee4c224186cffeb3/raw/f14fe80391994625686f2709724c6fb921ab5795/language-areas.json").then(function(e){return e.text()}).then(function(e){return JSON.parse(e)}),fetch("https://gist.githubusercontent.com/jperals/04a7199436bf5d54ee4c224186cffeb3/raw/1ce6ea9d22b413fe40d11890529a2216fd51d845/fences-ca-da-de-en-es-ja-nl-oc-pt-sco-th.json").then(function(e){return e.text()}).then(function(e){return JSON.parse(e)}),fetch("./legend.json").then(function(e){return e.text()}).then(function(e){return JSON.parse(e)})]).then(function(t){var a=Object(w.a)(t,3),n=a[0],A=a[1],o=a[2],r=y.a.geoJSON(n,{style:function(e){return{fillColor:k(e.properties.language,o),fillOpacity:.6,weight:0}}}).bindTooltip(function(e){return O(e.feature.properties.language,o)},{sticky:!0}),i=y.a.geoJSON(A,{style:function(e){return{fillColor:k(e.properties.language,o),fillOpacity:.6,weight:0}}}).bindTooltip(function(e){return O(e.feature.properties.language,o)},{sticky:!0}),l=y.a.tileLayer("https://api.mapbox.com/styles/v1/jperals/cjri9xpgx1he12sqtw8usp9ia/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoianBlcmFscyIsImEiOiJjajR4NnhwazUwcGdvMzNxbnMzY3Qza3BvIn0.Ae2Eze-ABuDGlilGHthLXQ",{maxZoom:18,id:"mapbox.satellite",accessToken:"pk.eyJ1IjoianBlcmFscyIsImEiOiJjajR4NnhwazUwcGdvMzNxbnMzY3Qza3BvIn0.Ae2Eze-ABuDGlilGHthLXQ",opacity:.8}),c=y.a.map("map",{attributionControl:!1,layers:[r]}).setView([25,2],2);v.addTo(c),y.a.control.layers({Raw:r,Edited:i}).addTo(c),l.addTo(c),e.props&&"function"===typeof e.props.onDataLoaded&&e.props.onDataLoaded()})}},{key:"render",value:function(){return A.a.createElement("div",{id:"map"})}}]),t}(n.Component);function k(e,t){if(t[e])return t[e].color}function O(e,t){return t[e]?t[e].name:"("+e+")"}a(64);var N=a(32),I=a.n(N),T=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return A.a.createElement(h.a,{path:"/",exact:!0,children:function(e){var t=e.match;return A.a.createElement("div",{className:t?"top-bar root":"top-bar"},A.a.createElement("img",{alt:"logo",className:"logo",src:I.a}),A.a.createElement("h1",null,"Colors of Twitter"),A.a.createElement("div",{id:"links"},A.a.createElement(h.a,{path:"/",exact:!0,render:function(){return A.a.createElement(d.a,{className:"link",to:"/about"},"About")}})))}})}}]),t}(n.Component),C=a(24),x=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,A=new Array(n),o=0;o<n;o++)A[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(A)))).state={dataLoaded:!1},a.onDataLoaded=function(){a.setState({dataLoaded:!0})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return A.a.createElement(m.a,{basename:window.location.pathname},A.a.createElement(h.a,{render:function(t){var a=t.location;return A.a.createElement("div",{id:"content",className:"/embed"===a.pathname?"embed":""},!e.state.dataLoaded&&A.a.createElement(b,null),A.a.createElement(j,{onDataLoaded:e.onDataLoaded}),A.a.createElement("div",{id:"ui"},A.a.createElement(T,null),A.a.createElement(C.TransitionGroup,null,A.a.createElement(C.CSSTransition,{key:a.key,classNames:"fade",timeout:300},A.a.createElement(h.a,{path:"/about",component:f})))))}}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(A.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,2,1]]]);
//# sourceMappingURL=main.4fb2d8e9.chunk.js.map